1. Start squid

    # svcadm enable squid

2. Check SMF logs for errors

    # cat /var/svc/log/network-http:squid.log
    [ 2025 Nov 25 10:42:48 Executing start method ("/lib/svc/method/http-squid start"). ]
    2025/11/25 10:42:48| Processing Configuration File: /etc/squid/squid.conf (depth 0)
    2025/11/25 10:42:48| Created PID file (/system/volatile/squid.pid)
    2025/11/25 10:42:48 kid1| Processing Configuration File: /etc/squid/squid.conf (depth 0)
    2025/11/25 10:42:48 kid1| Set Current Directory to /var/squid/cache/squid
    2025/11/25 10:42:48 kid1| Creating missing swap directories
    2025/11/25 10:42:48 kid1| No cache_dir stores are configured.
    2025/11/25 10:42:48| Removing PID file (/system/volatile/squid.pid)
    [ 2025 Nov 25 10:42:49 Method "start" exited with status 0. ]

3. Check if it works

    # curl -s -S -x localhost:3128 'http://ipkg.cz.oracle.com/solaris11/support/'
    This resource can be found at <a href="http://ipkg.cz.oracle.com/solaris11/support/en/index.shtml">http://ipkg.cz.oracle.com/solaris11/support/en/index.shtml</a>.

4. Check for '404 Not found'

    # curl -s -S -x localhost:3128 'http://ipkg.cz.oracle.com/nolocation'
    <!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML 2.0//EN">
    <html><head>
    <title>404 Not Found</title>
    </head><body>
    <h1>Not Found</h1>
    <p>The requested URL was not found on this server.</p>
    </body></html>

5. Check for DNS Error

    # curl -s -S -x localhost:3128 'http://nopkg.cz.oracle.com/solaris11/support/' | grep '<p>.*DNS.*</p>'
    <p>The DNS server returned:</p>

6. Check squid logs for errors

    # less /var/squid/logs/access.log
    # less /var/squid/logs/cache.log
