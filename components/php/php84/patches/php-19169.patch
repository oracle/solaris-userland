From 0f889c684d97e8d8a9f99de751ff94f79e2652f9 Mon Sep 17 00:00:00 2001
From: Petr Sumbera <sumbera@volny.cz>
Date: Fri, 18 Jul 2025 17:29:02 +0200
Subject: [PATCH] Fix ZEND_STATIC_ASSERT for -std=c++17

(19169)
---
 Zend/zend_portability.h | 4 +++-
 1 file changed, 3 insertions(+), 1 deletion(-)

--- php-8.4.10/Zend/zend_portability.h
+++ php-8.4.10/Zend/zend_portability.h
@@ -785,7 +785,9 @@ #define ZEND_CGG_DIAGNOSTIC_IGNORED_STAR
 /** @deprecated */
 #define ZEND_CGG_DIAGNOSTIC_IGNORED_END ZEND_DIAGNOSTIC_IGNORED_END
 
-#if defined(__STDC_VERSION__) && (__STDC_VERSION__ >= 201112L) /* C11 */
+#if defined(__cplusplus)
+# define ZEND_STATIC_ASSERT(c, m) static_assert((c), m)
+#elif defined(__STDC_VERSION__) && (__STDC_VERSION__ >= 201112L) /* C11 */
 # define ZEND_STATIC_ASSERT(c, m) _Static_assert((c), m)
 #else
 # define ZEND_STATIC_ASSERT(c, m)
