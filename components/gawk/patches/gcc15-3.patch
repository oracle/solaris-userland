From 7a521fe4b37f8554ca53ef3236f0352e391aaa1d Mon Sep 17 00:00:00 2001
From: "Arnold D. Robbins" <arnold@skeeve.com>
Date: Mon, 12 Aug 2024 06:33:28 +0300
Subject: Fix some C23 compilatio issues.

---
 io.c | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

(limited to 'io.c')

diff --git a/io.c b/io.c
index acb707b0..f0c7901c 100644
--- a/io.c
+++ b/io.c
@@ -3388,7 +3388,7 @@ iop_alloc(int fd, const char *name, int errno_val)
 
 	iop->public.fd = fd;
 	iop->public.name = name;
-	iop->public.read_func = ( ssize_t(*)() ) read;
+	iop->public.read_func = ( ssize_t(*)(int, void *, size_t) ) read;
 	iop->valid = false;
 	iop->errcode = errno_val;
 
@@ -4448,7 +4448,7 @@ get_read_timeout(IOBUF *iop)
 	}
 
 	/* overwrite read routine only if an extension has not done so */
-	if ((iop->public.read_func == ( ssize_t(*)() ) read) && tmout > 0)
+	if ((iop->public.read_func == ( ssize_t(*)(int, void *, size_t) ) read) && tmout > 0)
 		iop->public.read_func = read_with_timeout;
 
 	return tmout;
-- 
cgit v1.2.3

